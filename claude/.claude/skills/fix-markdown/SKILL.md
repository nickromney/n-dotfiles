# Fix Markdown

Utilities for cleaning up and standardizing markdown files, especially those generated by AI that may contain excessive emojis or non-standard heading structures.

## Purpose

This skill provides automated tools to fix common markdown issues:

- Remove excessive emojis from markdown files
- Fix duplicate H1 headings (convert to H2 when title exists in frontmatter)
- Fix bold text incorrectly used as headings (convert to H2)
- Standardize ordered lists (MD029: all list items use "1.")
- Fix step headings (convert `**Step X:**` to `### Step X:`)
- Add missing image alt text (MD045)
- Report markdownlint issues with detailed breakdown

## When to Use

Use this skill when:

- AI-generated markdown contains too many emojis
- Markdown files fail markdownlint validation
- Documentation has frontmatter titles but still uses H1 headings
- Files need to conform to `.markdownlint.yaml` standards
- Ordered lists use sequential numbering (2., 3., 4.) instead of all "1."
- Batch fixing multiple markdown files in a directory
- Need to understand what issues remain before committing

## Available Scripts

All scripts are in the `scripts/` directory and accept file or directory paths:

### Python Scripts (use `uv run`)

- **remove-emojis.py** - Strip all emoji characters from markdown files
- **fix-step-headings.py** - Convert `**Step X: text**` to `### Step X: text`

### Shell Scripts

- **fix-ordered-lists.sh** - Replace sequential numbering (2., 3.) with "1." (MD029)
- **fix-image-alt-text.sh** - Add "Image" alt text to images with empty alt text (MD045)
- **fix-all-docs.sh** - Run all fixes in sequence with progress reporting
- **report-markdownlint-issues.sh** - Generate detailed report grouped by type and file

### Frontmatter-Aware Scripts (require perl)

- **fix-duplicate-h1.sh** - Convert H1 to H2 when title exists in frontmatter (MD025)
- **fix-bold-h1.sh** - Convert bold text on its own line to H2 headings (after frontmatter)

Note: Perl is pre-installed on macOS and most Linux systems.

## Quick Start

```bash
# Report issues first
./scripts/report-markdownlint-issues.sh documentation/

# Fix all issues automatically
./scripts/fix-all-docs.sh documentation/

# Or fix specific issues
uv run ./scripts/remove-emojis.py path/to/file.md
./scripts/fix-ordered-lists.sh documentation/
```

## Integration with Repository Standards

These tools enforce markdown standards defined in `.markdownlint.yaml`:

- **MD025**: Only one H1 per document (use H2 when frontmatter has title)
- **MD029**: Ordered list items all use "1." prefix
- **MD045**: Images must have alt text
- Files with frontmatter titles should use H2 for sections
- Step headings use H3 (###), not bold or H4
